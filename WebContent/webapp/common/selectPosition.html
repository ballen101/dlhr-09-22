<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>ICEFALL CSM FLATFORM</title>
    <link rel="stylesheet" type="text/css" href="../js/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../js/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="../js/css/corsair.css">
    <script type="text/javascript" src="../js/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="../js/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../js/easyui/easyloader.js"></script>
    <script type="text/javascript" src="../js/easyui/locale/easyui-lang-zh_CN.js">
    </script>
    <script type="text/javascript" src="../js/cjquery.min.js"></script>
    <script type="text/javascript" src="../js/icefall.min.js"></script>
    <title></title>
    <script type="text/javascript">
        function $OnCorsairReady() {
            initOptions();
        }

        function initOptions() {
            $ajaxjsonget($C.cos.findPositions, function (data) {
                $("#tb_positions").datagrid({data: data});
            }, function (err) {
                alert(err);
            });
        }

        function OnOKModalDialog() {
            var row = $("#tb_positions").datagrid("getSelected");
            if ((row == null) || (row == undefined)) {
                $.messager.alert('错误', '没有选择的数据', 'error');
                return;
            }
            return row;
        }

        function OnCancelModalDialog() {
            return undefined;
        }

        function positionNameFormatter(val, row) {
            return "<span class='icon-user_group' style='height: 100%;width: 16px;margin-left: 2px;padding-right: 10px;display: inline-block;'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</span>" + val;
        }
    </script>
</head>
<body>
<table id="tb_positions" class="easyui-datagrid" style="width: 100%;height: 100%"
       data-options="fit:true,border:false,toolbar:'#toolbarPosi',singleSelect: true">
    <thead>
    <tr>
        <th data-options="field:'positiondesc',width:200,formatter:positionNameFormatter">角色名</th>
    </tr>
    </thead>
</table>
</body>
</html>